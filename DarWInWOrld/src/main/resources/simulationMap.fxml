<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            minHeight="600.0" minWidth="1200.0"
            fx:controller="project.presenter.MapPresenter"
            stylesheets="@styles.css">

    <center>
        <SplitPane dividerPositions="0.25, 0.8"
                   minWidth="300">
            <!-- STATYSTYKI -->
            <VBox style="-fx-padding: 10;" spacing="15">
                <Label text="STATYSTYKI SYMULACJI" styleClass="statistics-header"/>
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS"/>
                        <ColumnConstraints hgrow="ALWAYS"/>
                    </columnConstraints>

                    <Label text="DZIEŃ:" GridPane.columnIndex="0" styleClass="statistics-label"
                           style="-fx-font-weight: bold;"/>
                    <Label fx:id="dayLabel" text="0" GridPane.columnIndex="1" styleClass="statistics-value"/>

                    <Label text="Liczba zwierzaków:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="statistics-label"/>
                    <Label fx:id="animalCountLabel" text="0" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="statistics-value"/>

                    <Label text="Liczba zdechłych:" GridPane.rowIndex="2" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="deadAnimalCountLabel" text="0" GridPane.rowIndex="2" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Liczba roślin:" GridPane.rowIndex="3" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="plantCountLabel" text="0" GridPane.rowIndex="3" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Wolne pola:" GridPane.rowIndex="4" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="freeFieldsLabel" text="0" GridPane.rowIndex="4" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Top genotyp:" GridPane.rowIndex="5" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="topGenotypeLabel" text="-" GridPane.rowIndex="5" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Śr. energia:" GridPane.rowIndex="6" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="avgEnergyLabel" text="0.0" GridPane.rowIndex="6" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Śr. życie:" GridPane.rowIndex="7" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="avgLifespanLabel" text="0.0" GridPane.rowIndex="7" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>

                    <Label text="Śr. dzieci:" GridPane.rowIndex="8" GridPane.columnIndex="0"
                           styleClass="statistics-label"/>
                    <Label fx:id="avgChildrenLabel" text="0.0" GridPane.rowIndex="8" GridPane.columnIndex="1"
                           styleClass="statistics-value"/>
                </GridPane>
            </VBox>

            <!-- MAPA -->
            <VBox style="-fx-padding: 10;" spacing="10" alignment="CENTER">
                <StackPane VBox.vgrow="ALWAYS" style="-fx-alignment: center;">
                    <Canvas fx:id="mapCanvas"/>
                </StackPane>
                <HBox alignment="CENTER" style="-fx-padding: 10 0 0 0;">
                    <Button fx:id="toggleButton" text="STOP" styleClass="button-style"
                            minWidth="100" minHeight="40"/>
                </HBox>
            </VBox>

            <!-- LEGENDA -->
            <VBox style="-fx-padding: 8; -fx-background-color: #f9f9f9;" spacing="10" minWidth="150">
                <Label text="LEGENDA" styleClass="statistics-header"/>

                <VBox fx:id="basicLegend" spacing="8" managed="false" visible="false">
                    <GridPane hgap="10" vgap="4">
                        <HBox spacing="4" alignment="CENTER_LEFT" GridPane.rowIndex="0" GridPane.columnIndex="0">
                            <ImageView fitWidth="18" fitHeight="18">
                                <image>
                                    <Image url="@/textures/plants/antidotes/grass.png"/>
                                </image>
                            </ImageView>
                            <Label text="Roślina" styleClass="legend-label"/>
                        </HBox>
                        <Label fx:id="basicPlantEnergyLabel" text="+20" styleClass="legend-energy-positive"
                               GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <HBox spacing="4" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="0">
                            <ImageView fitWidth="18" fitHeight="18">
                                <image>
                                    <Image url="@/textures/plants/poisons/aloe.png"/>
                                </image>
                            </ImageView>
                            <Label text="Trucizna" styleClass="legend-label"/>
                        </HBox>
                        <Label fx:id="basicPoisonEnergyLabel" text="-20" styleClass="legend-energy-negative"
                               GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                    </GridPane>
                </VBox>

                <VBox fx:id="customLegend" spacing="8">
                    <VBox spacing="3">
                        <Label text="POŻYWNE"
                               style="-fx-font-weight: bold; -fx-text-fill: #43a047; -fx-font-size: 14px;"/>
                        <GridPane hgap="10" vgap="6" style="-fx-padding: 5 0 0 5;">
                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints minWidth="30" halignment="RIGHT"/>
                            </columnConstraints>
                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/antidotes/grass.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Trawa" styleClass="legend-label"/>
                            </HBox>
                            <Label text="+5" fx:id="grassEnergyLabel" styleClass="legend-energy-positive" GridPane.rowIndex="0"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/antidotes/bamboo.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Bambus" styleClass="legend-label"/>
                            </HBox>
                            <Label text="+10" styleClass="legend-energy-positive" GridPane.rowIndex="1"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="2" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/antidotes/carrot.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Marchew" styleClass="legend-label"/>
                            </HBox>
                            <Label text="+15" styleClass="legend-energy-positive" GridPane.rowIndex="2"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="3" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/antidotes/parsley.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Pietruszka" styleClass="legend-label"/>
                            </HBox>
                            <Label text="+20" styleClass="legend-energy-positive" GridPane.rowIndex="3"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="4" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/antidotes/sunflower_front.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Słonecznik" styleClass="legend-label"/>
                            </HBox>
                            <Label text="+30" styleClass="legend-energy-positive" GridPane.rowIndex="4"
                                   GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <VBox fx:id="poisonLegendSection" spacing="3">
                        <Label text="TRUJĄCE"
                               style="-fx-font-weight: bold; -fx-text-fill: #e53935; -fx-font-size: 14px;"/>
                        <GridPane hgap="10" vgap="6" style="-fx-padding: 5 0 0 5;">
                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints minWidth="30" halignment="RIGHT"/>
                            </columnConstraints>
                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/poisons/lily.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Lilia" styleClass="legend-label"/>
                            </HBox>
                            <Label text="-5" fx:id="lilyEnergyLabel" styleClass="legend-energy-negative" GridPane.rowIndex="0"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/poisons/aloe.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Aloes" styleClass="legend-label"/>
                            </HBox>
                            <Label text="-10" styleClass="legend-energy-negative" GridPane.rowIndex="1"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="2" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/poisons/azalea.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Azalia" styleClass="legend-label"/>
                            </HBox>
                            <Label text="-15" styleClass="legend-energy-negative" GridPane.rowIndex="2"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="3" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/poisons/oleander.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Oleander" styleClass="legend-label"/>
                            </HBox>
                            <Label text="-20" styleClass="legend-energy-negative" GridPane.rowIndex="3"
                                   GridPane.columnIndex="1"/>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="4" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/plants/poisons/commonYew.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Cis" styleClass="legend-label"/>
                            </HBox>
                            <Label text="-30" styleClass="legend-energy-negative" GridPane.rowIndex="4"
                                   GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>
                    <VBox spacing="3">
                        <Label text="BIOMY"
                               style="-fx-font-weight: bold; -fx-text-fill: #5d4037; -fx-font-size: 14px;"/>
                        <GridPane hgap="10" vgap="6" style="-fx-padding: 5 0 0 5;">
                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/biomes/grass_block_top_jungle.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Dżungla" styleClass="legend-label"/>
                            </HBox>

                            <HBox spacing="8" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="0">
                                <ImageView fitWidth="32" fitHeight="32">
                                    <image>
                                        <Image url="@/textures/biomes/grass_block_top_steppe.png"/>
                                    </image>
                                </ImageView>
                                <Label text="Step" styleClass="legend-label"/>
                            </HBox>
                        </GridPane>
                    </VBox>
                </VBox>
            </VBox>

        </SplitPane>
    </center>
</BorderPane>